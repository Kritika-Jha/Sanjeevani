:root{
  --bg:#0f172a;
  --sidebar:#0b1220;
  --panel:#111c31;
  --card:#0f1a2f;
  --border:rgba(148,163,184,.14);
  --shadow:0 10px 30px rgba(0,0,0,.28);
  --shadowSoft:0 6px 18px rgba(0,0,0,.22);

  --text:#f8fafc;
  --textSecondary:#cbd5e1;
  --textMuted:#94a3b8;

  --brandFrom:#0ea5e9;
  --brandTo:#10b981;
  --danger:#fb7185;
  --warning:#f59e0b;
  --success:#34d399;

  --s1:8px;
  --s2:16px;
  --s3:24px;
  --s4:32px;
  --s5:48px;
  --s6:64px;

  --radiusSm:10px;
  --radiusMd:14px;
  --radiusLg:16px;
}

#root{height:100%}

.appShell{min-height:100vh;display:grid;grid-template-columns:240px 1fr;background:var(--bg)}

.sidebar{position:sticky;top:0;height:100vh;background:var(--sidebar);border-right:1px solid var(--border);padding:var(--s3);display:flex;flex-direction:column;gap:var(--s3)}
.sidebarLogo{display:flex;flex-direction:column;gap:6px}
.sidebarBrand{font-weight:750;letter-spacing:.01em}
.sidebarSub{color:var(--textMuted);font-size:.9rem;line-height:1.4}
.divider{height:1px;background:var(--border);width:100%}

.nav{display:flex;flex-direction:column;gap:4px}
.navLink{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:var(--radiusSm);text-decoration:none;color:var(--textSecondary);border-left:3px solid transparent}
.navLink:hover{background:rgba(148,163,184,.08);color:var(--text)}
.navLinkActive{background:rgba(14,165,233,.10);color:var(--text);border-left-color:var(--brandFrom)}
.navIcon{width:18px;height:18px;border-radius:6px;background:rgba(148,163,184,.16);display:inline-flex;align-items:center;justify-content:center;color:var(--textMuted);font-size:12px}
.navLinkActive .navIcon{background:rgba(16,185,129,.18);color:var(--text)}

.sidebarFooter{margin-top:auto;display:flex;flex-direction:column;gap:var(--s2)}
.statusPill{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-radius:999px;background:rgba(52,211,153,.12);border:1px solid rgba(52,211,153,.18);color:var(--textSecondary);font-weight:650;font-size:.9rem}
.dot{width:8px;height:8px;border-radius:999px;background:var(--success);box-shadow:0 0 0 4px rgba(52,211,153,.12)}

.appMain{min-width:0}
.appContainer{max-width:1200px;margin:0 auto;padding:var(--s6) var(--s3) var(--s5);display:flex;flex-direction:column;gap:var(--s4)}

.pageHeader{display:flex;align-items:flex-end;justify-content:space-between;gap:var(--s2)}
.pageTitle{margin:0;font-size:1.4rem;line-height:1.25;letter-spacing:.01em}
.pageMeta{display:flex;align-items:center;gap:var(--s2);flex-wrap:wrap}
.fieldRow{display:flex;align-items:center;gap:10px}
.fieldLabel{color:var(--textMuted);font-size:.9rem;font-weight:650}
.select{background:rgba(148,163,184,.08);border:1px solid var(--border);color:var(--text);padding:10px 12px;border-radius:var(--radiusSm);outline:none}
.select:focus{box-shadow:0 0 0 3px rgba(14,165,233,.16);border-color:rgba(14,165,233,.35)}

.card{background:var(--card);border:1px solid var(--border);border-radius:var(--radiusLg);padding:var(--s3);box-shadow:var(--shadowSoft);min-width:0}
.cardHeader{display:flex;align-items:center;justify-content:space-between;gap:var(--s2);margin-bottom:var(--s2)}
.cardTitle{margin:0;font-size:1.05rem;letter-spacing:.01em}
.cardSub{margin:0;color:var(--textMuted);font-size:.95rem;line-height:1.5}

.grid2{display:grid;grid-template-columns:1fr 1fr;gap:var(--s3);align-items:start}
.stack{display:flex;flex-direction:column;gap:var(--s3)}

.textarea{width:100%;background:rgba(148,163,184,.06);border:1px solid var(--border);border-radius:var(--radiusMd);padding:12px 14px;color:var(--text);outline:none;resize:vertical;min-height:120px;line-height:1.55}
.textarea:focus{box-shadow:0 0 0 3px rgba(14,165,233,.16);border-color:rgba(14,165,233,.35)}

.btn{appearance:none;border:1px solid transparent;border-radius:12px;padding:10px 14px;font-weight:700;color:var(--text);cursor:pointer;line-height:1}
.btn:disabled{opacity:.55;cursor:not-allowed}
.btnPrimary{background:linear-gradient(135deg,var(--brandFrom),var(--brandTo));box-shadow:0 12px 26px rgba(16,185,129,.12)}
.btnPrimary:hover{box-shadow:0 16px 32px rgba(16,185,129,.16)}
.btnSecondary{background:rgba(148,163,184,.10);border-color:var(--border);color:var(--textSecondary)}
.btnSecondary:hover{background:rgba(148,163,184,.14);color:var(--text)}

.helperText{color:var(--textMuted);font-size:.92rem;line-height:1.55}
.errorText{color:var(--danger);font-weight:650}
.list{margin:10px 0 0;padding-left:18px;color:var(--textSecondary);line-height:1.6}
.list li{margin:6px 0}
.kv{margin-top:10px;border:1px solid var(--border);border-radius:var(--radiusMd);overflow:hidden;background:rgba(148,163,184,.04)}
.kvRow{display:grid;grid-template-columns:160px 1fr;gap:var(--s2);padding:12px 14px;border-bottom:1px solid var(--border)}
.kvRow:last-child{border-bottom:none}
.kvKey{color:var(--textMuted);font-weight:800;font-size:.9rem;letter-spacing:.01em}
.kvVal{color:var(--textSecondary);line-height:1.55}
.bannerDanger{background:rgba(251,113,133,.12);border:1px solid rgba(251,113,133,.18);color:var(--text);padding:12px 14px;border-radius:var(--radiusMd);font-weight:750}
.bannerNote{background:rgba(148,163,184,.08);border:1px solid var(--border);color:var(--textSecondary);padding:12px 14px;border-radius:var(--radiusMd);font-weight:650}

.recorderTop{display:grid;grid-template-columns:88px 1fr;gap:var(--s2);align-items:center}
.micButton{width:88px;height:88px;border-radius:999px;border:1px solid var(--border);background:rgba(148,163,184,.08);display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 18px 40px rgba(0,0,0,.22)}
.micButton:hover{background:rgba(148,163,184,.12)}
.micButtonRecording{background:rgba(251,113,133,.10);border-color:rgba(251,113,133,.22)}
.micInner{width:56px;height:56px;border-radius:999px;background:rgba(14,165,233,.14);display:flex;align-items:center;justify-content:center;border:1px solid rgba(14,165,233,.22)}
.micButtonRecording .micInner{background:rgba(251,113,133,.14);border-color:rgba(251,113,133,.22)}

.wave{height:56px;border-radius:var(--radiusMd);border:1px solid var(--border);background:rgba(148,163,184,.06);display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}
.waveBars{display:flex;gap:6px;align-items:flex-end}
.bar{width:6px;height:12px;border-radius:999px;background:rgba(226,232,240,.35);transform-origin:bottom}
.waveActive .bar{background:rgba(16,185,129,.55);animation:bar 900ms ease-in-out infinite}
.waveActive .bar:nth-child(2){animation-delay:120ms}
.waveActive .bar:nth-child(3){animation-delay:240ms}
.waveActive .bar:nth-child(4){animation-delay:360ms}
.waveActive .bar:nth-child(5){animation-delay:480ms}
.waveActive .bar:nth-child(6){animation-delay:600ms}
.waveActive .bar:nth-child(7){animation-delay:720ms}
@keyframes bar{0%,100%{transform:scaleY(.55)}50%{transform:scaleY(1.45)}}

.agentList{display:flex;flex-direction:column;gap:12px}
.agentRow{display:flex;align-items:center;justify-content:space-between;gap:var(--s2);padding:10px 12px;border-radius:12px;background:rgba(148,163,184,.06);border:1px solid var(--border)}
.agentLeft{display:flex;align-items:center;gap:10px}
.agentName{font-weight:700}
.agentState{color:var(--textMuted);font-weight:650;font-size:.92rem}
.chip{padding:6px 10px;border-radius:999px;border:1px solid var(--border);background:rgba(148,163,184,.08);color:var(--textSecondary);font-weight:700;font-size:.88rem}
.chipDanger{background:rgba(251,113,133,.12);border-color:rgba(251,113,133,.18);color:var(--text)}
.chipWarn{background:rgba(245,158,11,.14);border-color:rgba(245,158,11,.20);color:var(--text)}
.chipOk{background:rgba(52,211,153,.12);border-color:rgba(52,211,153,.18);color:var(--text)}

.criticalityRing{--p:72;--ring:conic-gradient(from 270deg,rgba(14,165,233,.95),rgba(16,185,129,.95) calc(var(--p) * 1%),rgba(148,163,184,.14) calc(var(--p) * 1%) 100%);width:120px;height:120px;border-radius:999px;background:var(--ring);display:grid;place-items:center;animation:ringIn 800ms ease-out}
.criticalityInner{width:92px;height:92px;border-radius:999px;background:var(--card);border:1px solid var(--border);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px}
.criticalityValue{font-size:1.35rem;font-weight:800;letter-spacing:.01em}
.criticalityLabel{font-size:.85rem;color:var(--textMuted);font-weight:700}
@keyframes ringIn{from{transform:scale(.96);filter:blur(.6px);opacity:.6}to{transform:scale(1);filter:blur(0);opacity:1}}

.agentPanelBackdrop{position:fixed;inset:0;background:rgba(2,6,23,.45);z-index:40}
.agentPanel{position:fixed;top:0;right:0;height:100vh;width:min(420px,92vw);transform:translateX(110%);transition:transform 220ms ease;z-index:50;background:rgba(11,18,32,.96);border-left:1px solid var(--border);backdrop-filter:blur(10px);display:flex;flex-direction:column}
.agentPanelOpen{transform:translateX(0)}
.agentPanelHeader{padding:var(--s3);display:flex;align-items:center;justify-content:space-between;gap:var(--s2);border-bottom:1px solid var(--border)}
.agentPanelTitle{margin:0;font-size:1.02rem}
.agentPanelBody{padding:var(--s3);overflow:auto;display:flex;flex-direction:column;gap:10px}
.logItem{padding:10px 12px;border-radius:12px;background:rgba(148,163,184,.06);border:1px solid var(--border);color:var(--textSecondary);line-height:1.5}

.table{width:100%;border-collapse:separate;border-spacing:0}
.table th,.table td{padding:12px 12px;border-bottom:1px solid var(--border);text-align:left}
.table th{color:var(--textMuted);font-weight:750;font-size:.9rem}
.table td{color:var(--textSecondary)}

.tabs{display:flex;gap:8px;flex-wrap:wrap}
.tabBtn{background:rgba(148,163,184,.08);border:1px solid var(--border);color:var(--textSecondary);padding:10px 12px;border-radius:999px;font-weight:750;cursor:pointer}
.tabBtn:hover{background:rgba(148,163,184,.12);color:var(--text)}
.tabBtnActive{background:rgba(14,165,233,.12);border-color:rgba(14,165,233,.22);color:var(--text)}

.overlay{position:fixed;inset:0;background:rgba(2,6,23,.45);display:flex;align-items:center;justify-content:center;z-index:60}
.spinner{width:56px;height:56px;border-radius:50%;border:5px solid rgba(226,232,240,.18);border-top-color:rgba(14,165,233,.85);animation:spin .9s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

@media (max-width: 980px){
  .grid2{grid-template-columns:1fr}
  .appShell{grid-template-columns:1fr}
  .sidebar{position:relative;height:auto}
  .appContainer{padding:var(--s4) var(--s3) var(--s4)}
}
